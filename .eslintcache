[{"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/index.js":"1","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/App.js":"2","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/Modal.js":"3","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/UIElements/Backdrop.js":"4","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/Landing.js":"5","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/hooks/form-hook.js":"6","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/utils/validators.js":"7","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/UIElements/Input.js":"8","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/BackgroundImage.js":"9","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/UIElements/Button.js":"10","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/FormComponent.js":"11","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/hooks/http-hook.js":"12","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/windowSize.js":"13","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/PhoneInput.js":"14","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/Footer.js":"15","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/ThanksComponent.js":"16","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/UIElements/LoadingSpinner.js":"17","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/TableCompo.js":"18","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/TimeClock.js":"19"},{"size":176,"mtime":1608626716029,"results":"20","hashOfConfig":"21"},{"size":858,"mtime":1617595734545,"results":"22","hashOfConfig":"21"},{"size":1873,"mtime":1617254274047,"results":"23","hashOfConfig":"21"},{"size":288,"mtime":1608606826134,"results":"24","hashOfConfig":"21"},{"size":1896,"mtime":1617595423871,"results":"25","hashOfConfig":"21"},{"size":2079,"mtime":1608606527363,"results":"26","hashOfConfig":"21"},{"size":1674,"mtime":1608606378155,"results":"27","hashOfConfig":"21"},{"size":2968,"mtime":1616610973107,"results":"28","hashOfConfig":"21"},{"size":857,"mtime":1608626679190,"results":"29","hashOfConfig":"21"},{"size":1617,"mtime":1608606896046,"results":"30","hashOfConfig":"21"},{"size":4122,"mtime":1617596849941,"results":"31","hashOfConfig":"21"},{"size":1923,"mtime":1608606554059,"results":"32","hashOfConfig":"21"},{"size":750,"mtime":1616604870541,"results":"33","hashOfConfig":"21"},{"size":544,"mtime":1616610889482,"results":"34","hashOfConfig":"21"},{"size":971,"mtime":1617226680560,"results":"35","hashOfConfig":"21"},{"size":1793,"mtime":1617594918529,"results":"36","hashOfConfig":"21"},{"size":589,"mtime":1617256458342,"results":"37","hashOfConfig":"21"},{"size":3007,"mtime":1617640687780,"results":"38","hashOfConfig":"21"},{"size":517,"mtime":1617639313701,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"1frlgny",{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"42"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/index.js",[],["81","82"],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/App.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/Modal.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/UIElements/Backdrop.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/Landing.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/hooks/form-hook.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/utils/validators.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/UIElements/Input.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/BackgroundImage.js",[],["83","84"],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/UIElements/Button.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/FormComponent.js",["85","86","87","88"],"import React, { useState, useLayoutEffect, useEffect } from \"react\";\nimport { useForm } from \"../hooks/form-hook\";\nimport Modal from \"./Modal\";\nimport Input from \"../UIElements/Input\";\nimport {\n  VALIDATOR_EMAIL,\n  VALIDATOR_REQUIRE,\n  VALIDATOR_MINLENGTH,\n} from \"../utils/validators\";\nimport Button from \"../UIElements/Button\";\nimport { useHttpClient } from \"../hooks/http-hook\";\nimport { useHistory } from \"react-router-dom\";\nimport LoadingSpinner from \"../UIElements/LoadingSpinner\";\n\nconst FormCompo = (props) => {\n  const history = useHistory();\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\n  const [hasValue, setHasValue] = useState(false);\n  const [ipValue, setIpValue] = useState(\"\");\n  const [size, setSize] = useState([0, 0]);\n  // Initialize state with form-hook\n  const [formState, inputHandler, setFormData] = useForm(\n    {\n      name: { value: \"\", isValid: false },\n      email: { value: \"\", isValid: false },\n    },\n    false\n  );\n  //! Get window size\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerWidth, window.innerHeight]);\n    }\n    window.addEventListener(\"resize\", updateSize);\n    updateSize();\n\n    return () => window.removeEventListener(\"resize\", updateSize);\n  }, []);\n\n  useEffect(() => {\n    console.log(`props.isOpen: ${props.isOpen}`);\n    console.log(`formState.isValid: ${formState.isValid}`);\n  }, [props, formState]);\n\n  useEffect(() => {\n    // get IP\n    const getIPAddress = async () => {\n      try {\n        let ipValues = await sendRequest(\n          `https://geolocation-db.com/json/${process.env.REACT_APP_IP_DOMAIN_KEY}`\n        );\n        setIpValue(ipValues);\n        setHasValue(true);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    // To call backend\n    const callVisit = async () => {\n      console.log(\"here in callVisit()\");\n\n      try {\n        await sendRequest(\n          `${process.env.REACT_APP_BACKEND_URL}/visit/visitAdd`,\n          \"POST\",\n          JSON.stringify({ ipValue }),\n          { \"Content-Type\": \"application/json\" }\n        );\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    if (!hasValue) {\n      console.log(ipValue);\n\n      getIPAddress();\n    }\n    if (hasValue && props.isOpen === \"opened\") {\n      // callVisit();\n    }\n\n    return () => {\n      // cleanup\n    };\n  }, [hasValue, props.isOpen, ipValue, sendRequest]);\n\n  const sendData = async () => {\n    console.log(\"send\");\n    // history.push(\"/thanks\");\n    const data = {\n      name: formState.inputs.name.value,\n      email: formState.inputs.email.value,\n      IPv4: ipValue.IPv4,\n      country: ipValue.country_name,\n      city: ipValue.city,\n      state: ipValue.state,\n      windowW: size[0],\n      windowH: size[1],\n    };\n    console.log(data);\n\n    try {\n      await sendRequest(\n        `${process.env.REACT_APP_BACKEND_URL}/form/send`,\n        \"POST\",\n        JSON.stringify(data),\n        { \"Content-Type\": \"application/json\" }\n      );\n      props.openCloseModal();\n      history.push('/thanks')\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  return (\n    <React.Fragment>\n      {isLoading && <LoadingSpinner asOverlay />}\n      <Modal\n        show={props.showModal}\n        closeModal={() => props.openCloseModal()}\n        onClear={props.errorHandler}\n        // header={\"DANNY DURAN\"}\n        footer={\n          <Button disabled={!formState.isValid} onClick={() => sendData()}>\n            {\" \"}\n            Enviar{\" \"}\n          </Button>\n        }\n      >\n        <Input\n          element=\"input\"\n          id=\"name\"\n          type=\"text\"\n          label=\"Nombre\"\n          validators={[VALIDATOR_REQUIRE(), VALIDATOR_MINLENGTH(3)]}\n          errorText=\"Introduce un nombre\"\n          onInput={inputHandler}\n        />\n        <Input\n          element=\"input\"\n          id=\"email\"\n          type=\"text\"\n          label=\"Correo\"\n          validators={[VALIDATOR_EMAIL(), VALIDATOR_REQUIRE()]}\n          errorText=\"Introduce un correo válido\"\n          onInput={inputHandler}\n        />\n      </Modal>\n    </React.Fragment>\n  );\n};\n\nexport default FormCompo;\n","/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/hooks/http-hook.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/windowSize.js",["89"],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/PhoneInput.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/Footer.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/ThanksComponent.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/UIElements/LoadingSpinner.js",[],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/TableCompo.js",["90","91","92","93","94"],"/home/ericlucero/Documents/dev/devProyects/10-dd/frntd/src/components/TimeClock.js",[],{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","replacedBy":"98"},{"ruleId":"95","replacedBy":"99"},{"ruleId":"97","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":17,"column":22,"nodeType":"103","messageId":"104","endLine":17,"endColumn":27},{"ruleId":"101","severity":1,"message":"105","line":17,"column":42,"nodeType":"103","messageId":"104","endLine":17,"endColumn":52},{"ruleId":"101","severity":1,"message":"106","line":22,"column":35,"nodeType":"103","messageId":"104","endLine":22,"endColumn":46},{"ruleId":"101","severity":1,"message":"107","line":59,"column":11,"nodeType":"103","messageId":"104","endLine":59,"endColumn":20},{"ruleId":"101","severity":1,"message":"108","line":1,"column":8,"nodeType":"103","messageId":"104","endLine":1,"endColumn":13},{"ruleId":"101","severity":1,"message":"109","line":3,"column":10,"nodeType":"103","messageId":"104","endLine":3,"endColumn":18},{"ruleId":"101","severity":1,"message":"110","line":11,"column":11,"nodeType":"103","messageId":"104","endLine":11,"endColumn":20},{"ruleId":"101","severity":1,"message":"102","line":11,"column":22,"nodeType":"103","messageId":"104","endLine":11,"endColumn":27},{"ruleId":"101","severity":1,"message":"105","line":11,"column":42,"nodeType":"103","messageId":"104","endLine":11,"endColumn":52},{"ruleId":"111","severity":1,"message":"112","line":55,"column":6,"nodeType":"113","endLine":55,"endColumn":8,"suggestions":"114"},"no-native-reassign",["115"],"no-negated-in-lhs",["116"],["115"],["116"],"no-unused-vars","'error' is assigned a value but never used.","Identifier","unusedVar","'clearError' is assigned a value but never used.","'setFormData' is assigned a value but never used.","'callVisit' is assigned a value but never used.","'React' is defined but never used.","'useTable' is defined but never used.","'isLoading' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'sendRequest'. Either include it or remove the dependency array.","ArrayExpression",["117"],"no-global-assign","no-unsafe-negation",{"desc":"118","fix":"119"},"Update the dependencies array to be: [sendRequest]",{"range":"120","text":"121"},[1446,1448],"[sendRequest]"]